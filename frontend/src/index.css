@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --bg-panel: #0d1117;
  --bg-card: #161b22;
  --bg-elevated: #21262d;
  --border: #30363d;
  --border-subtle: #21262d;
  --text: #f0f6fc;
  --text-secondary: #8b949e;
  --muted: #6e7681;
  --accent: #58a6ff;
  --accent-dim: rgba(88, 166, 255, 0.15);
  --path: #3fb950;
  --path-dim: rgba(63, 185, 80, 0.2);
  --error: #f85149;
  --error-dim: rgba(248, 81, 73, 0.12);
  --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.3);
  --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.35);
  --radius: 10px;
  --radius-sm: 6px;
}

html {
  -webkit-text-size-adjust: 100%;
  overflow-x: hidden;
}
body {
  @apply antialiased font-sans text-[var(--text)] bg-[var(--bg-panel)];
  background-image: radial-gradient(ellipse 120% 80% at 50% -20%, rgba(88, 166, 255, 0.06), transparent);
  overflow-x: hidden;
  min-height: 100dvh;
  min-height: 100vh;
}
#root {
  min-height: 100%;
  overflow-x: hidden;
}
/* Safe area for notched devices */
.safe-area-inset-top {
  padding-top: env(safe-area-inset-top, 0);
}
.pb-safe {
  padding-bottom: env(safe-area-inset-bottom, 0);
}
/* Touch-friendly tap targets on mobile */
@media (pointer: coarse) {
  button:not(.no-touch-target) {
    min-height: 44px;
  }
}

/* Card base */
.card {
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  box-shadow: var(--shadow-sm);
  transition: box-shadow 0.2s ease, border-color 0.2s ease;
}
.card:hover {
  box-shadow: var(--shadow-md);
  border-color: var(--border);
}

/* Inputs */
input[type="number"] {
  @apply outline-none transition-all duration-150;
}
input[type="number"]:focus {
  border-color: var(--accent);
  box-shadow: 0 0 0 2px var(--accent-dim);
}

/* Buttons */
.btn-primary {
  @apply font-medium transition-all duration-150 active:scale-[0.98];
  background: var(--accent);
  color: #fff;
}
.btn-primary:hover {
  filter: brightness(1.1);
  box-shadow: 0 2px 8px rgba(88, 166, 255, 0.35);
}
.btn-success {
  background: var(--path);
  color: #fff;
}
.btn-success:hover {
  filter: brightness(1.1);
  box-shadow: 0 2px 8px rgba(63, 185, 80, 0.35);
}
.btn-ghost {
  border: 1px solid var(--border);
  color: var(--text-secondary);
}
.btn-ghost:hover {
  background: var(--bg-elevated);
  color: var(--text);
  border-color: var(--border);
}

/* React Flow overrides */
.react-flow__edge-path {
  stroke-width: 2;
  transition: stroke 0.2s ease, stroke-width 0.2s ease;
}
.react-flow__edge.selected .react-flow__edge-path,
.react-flow__edge.path-edge .react-flow__edge-path {
  stroke: var(--path);
  stroke-width: 3;
  filter: drop-shadow(0 0 6px var(--path-dim));
}
.react-flow__node {
  transition: filter 0.2s ease, box-shadow 0.2s ease;
}
.react-flow__controls {
  box-shadow: var(--shadow-md) !important;
  border-radius: var(--radius-sm) !important;
  overflow: hidden;
}
.react-flow__controls-button {
  background: var(--bg-card) !important;
  border-color: var(--border) !important;
  color: var(--text) !important;
}
.react-flow__controls-button:hover {
  background: var(--bg-elevated) !important;
}
